# –î–µ–ø–ª–æ–π –±–æ—Ç–∞ –Ω–∞ Railway.app

## –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

1. –û—Ç–∫—Ä–æ–π https://railway.app/new
2. –í —Ä–∞–∑–¥–µ–ª–µ "Deploy from GitHub repo" –Ω–∞–∂–º–∏ "Connect GitHub"
3. –†–∞–∑—Ä–µ—à–∏ Railway –¥–æ—Å—Ç—É–ø –∫ —Ç–≤–æ–µ–º—É GitHub –∞–∫–∫–∞—É–Ω—Ç—É
4. –í—ã–±–µ—Ä–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `dylyk94-eng/potolkoff-telegram-bot-v3`
5. –ù–∞–∂–º–∏ "Import"

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç, —á—Ç–æ —ç—Ç–æ Node.js –ø—Ä–æ–µ–∫—Ç.

**Runtime:** Node.js (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª "Variables"
2. –î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```
BOT_TOKEN = 8581860319:AAGf7dr3o2XIKZePqDocpM0_W0_0HX0MZt0
NODE_ENV = production
```

3. –ù–∞–∂–º–∏ "Save Changes"

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Å–µ—Ä–≤–∏—Å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –µ–≥–æ
2. –ü–æ–¥–æ–∂–¥–∏ 1-2 –º–∏–Ω—É—Ç—ã –ø–æ–∫–∞ –ø—Ä–æ–µ–∫—Ç —Å–æ–±–µ—Ä—ë—Ç—Å—è –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
3. –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏—Ç—Å—è –Ω–∞ "Running"

### –®–∞–≥ 5: –ü–æ–ª—É—á–µ–Ω–∏–µ URL –±–æ—Ç–∞

1. –ù–∞–∂–º–∏ –Ω–∞ —Å–µ—Ä–≤–∏—Å (–æ–±—ã—á–Ω–æ —ç—Ç–æ "web" –∏–ª–∏ "bot")
2. –í —Ä–∞–∑–¥–µ–ª–µ "Settings" –Ω–∞–π–¥–∏ "Domains"
3. –¢–∞–º –±—É–¥–µ—Ç URL –≤–∏–¥–∞: `https://potolkoff-telegram-bot-v3-production.up.railway.app`

### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Webhook –¥–ª—è Telegram

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç webhook URL. –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Telegram –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.

**–ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:**
1. –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://api.telegram.org/bot8581860319:AAGf7dr3o2XIKZePqDocpM0_W0_0HX0MZt0/setWebhook?url=https://potolkoff-telegram-bot-v3-production.up.railway.app
```

2. –î–æ–ª–∂–µ–Ω –ø—Ä–∏–π—Ç–∏ –æ—Ç–≤–µ—Ç:
```json
{
  "ok": true,
  "result": true,
  "description": "Webhook was set"
}
```

### –®–∞–≥ 7: –ò–∑–º–µ–Ω–µ–Ω–∏–µ bot.js –¥–ª—è Webhook

**–í–ê–ñ–ù–û:** –í —Ç–µ–∫—É—â–µ–º bot.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è polling (`bot.launch()`). –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ Railway –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ webhook.

–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `bot.js` –∏ –Ω–∞–π–¥–∏ –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ:

```javascript
// –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
bot.launch()
    .then(() => {
        console.log('Telegram –±–æ—Ç –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ!');
    })
    .catch(err => {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞:', err);
    });
```

–ó–∞–º–µ–Ω–∏ –Ω–∞:

```javascript
// –ü–æ–ª—É—á–∞–µ–º –ø–æ—Ä—Ç –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
const PORT = process.env.PORT || 3000;

// Express —Å–µ—Ä–≤–µ—Ä –¥–ª—è webhook
const app = express();
app.use(express.json());

// Webhook endpoint
app.use(bot.webhookCallback('/telegram-webhook'));

// –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
app.listen(PORT, () => {
    console.log('Telegram –±–æ—Ç –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ!');
    console.log(`–°–ª—É—à–∞–µ–º –Ω–∞ –ø–æ—Ä—Ç—É: ${PORT}`);
});

// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º webhook
bot.telegram.setWebhook(`https://potolkoff-telegram-bot-v3-production.up.railway.app/telegram-webhook`)
    .then(() => {
        console.log('Webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!');
    })
    .catch(err => {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ webhook:', err);
    });
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (–ø—Ä–æ—â–µ):**
–ò—Å–ø–æ–ª—å–∑—É–π polling —Å –ø–∏–Ω–≥–æ–º, —á—Ç–æ–±—ã bot –Ω–µ –∑–∞—Å—ã–ø–∞–ª. –≠—Ç–æ –ø—Ä–æ—â–µ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Railway:

```javascript
// –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ —Å –ø–∏–Ω–≥–æ–º
bot.launch()
    .then(() => {
        console.log('Telegram –±–æ—Ç –∑–∞–ø—É—â–µ–Ω —É—Å–ø–µ—à–Ω–æ!');

        // –ü–∏–Ω–≥ –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç —á—Ç–æ–±—ã –Ω–µ —Å–ø–∞–ª
        setInterval(() => {
            console.log('Ping: –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç');
        }, 5 * 60 * 1000);
    })
    .catch(err => {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞:', err);
    });
```

### –®–∞–≥ 8: –î–µ–ø–ª–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

1. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ bot.js, –∑–∞–∫–æ–º–º–∏—Ç—å –≤ GitHub:
   ```bash
   git add bot.js
   git commit -m "Add webhook support for Railway"
   git push
   ```

2. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–¥–µ–ø–ª–æ–∏—Ç –ø—Ä–æ–µ–∫—Ç
3. –ü–æ–¥–æ–∂–¥–∏ 1-2 –º–∏–Ω—É—Ç—ã
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –±–æ—Ç–∞ –≤ Telegram

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram: –Ω–∞–π–¥–∏ —á–µ—Ä–µ–∑ @username
2. –ù–∞–ø–∏—à–∏ `/start`
3. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ Railway

- ‚è±Ô∏è 500 —á–∞—Å–æ–≤ –≤ –º–µ—Å—è—Ü (–ø—Ä–∏–º–µ—Ä–Ω–æ 16.5 —á–∞—Å–æ–≤ –≤ —Å—É—Ç–∫–∏)
- üíæ 512 MB –ø–∞–º—è—Ç–∏
- üßä –•–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç (~15 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –ø—Ä–æ—Å—Ç–æ—è)
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–µ–ø–ª–æ–π –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ –≤ GitHub

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- –ù–∞ Railway –º–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "Logs"
- –ï—Å–ª–∏ –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
- –ï—Å–ª–∏ bot –∑–∞—Å—ã–ø–∞–µ—Ç, Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –µ–≥–æ

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ Railway
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ BOT_TOKEN –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "Running")

### Webhook –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ Railway –∑–∞–ø—É—â–µ–Ω (—Å—Ç–∞—Ç—É—Å "Running")
2. –ü—Ä–æ–≤–µ—Ä—å URL –ø—Ä–æ–µ–∫—Ç–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω)
3. –ü–æ–ø—Ä–æ–±—É–π —Å–±—Ä–æ—Å–∏—Ç—å webhook:
   ```
   https://api.telegram.org/bot8581860319:AAGf7dr3o2XIKZePqDocpM0_W0_0HX0MZt0/deleteWebhook
   ```
   –ó–∞—Ç–µ–º —Å–Ω–æ–≤–∞ —É—Å—Ç–∞–Ω–æ–≤–∏.

### Bot –∑–∞—Å—ã–ø–∞–µ—Ç

- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –ø–ª–∞–Ω–∞
- –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –±–æ—Ç –ø—Ä–æ—Å–Ω—ë—Ç—Å—è —á–µ—Ä–µ–∑ ~15 —Å–µ–∫—É–Ω–¥
- –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–µ–Ω –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω (~$5/–º–µ—Å—è—Ü)

## –ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã:
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Railway: https://docs.railway.app
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Telegraf: https://telegraf.js.org
- Telegram Bot API: https://core.telegram.org/bots/api

---

**–£–¥–∞—á–∏ —Å –¥–µ–ø–ª–æ–µ–º! üöÄ**
